# SPDX-License-Identifier: Apache-2.0
# Copyright 2021 Intel Corporation
# Copyright 2021 Open Networking Foundation
# Copyright 2025 Canonical Ltd.

# golangci-lint configuration used for CI

version: "2"
run:
  tests: true
linters:
  enable:
    - goconst
    - misspell
    - nilerr
    - nilnil
    - unparam
  disable:
    - govet
    - errcheck
    - staticcheck
  # all available settings of specific linters
  settings:
    govet:
      # settings per analyzer
      enable-all: true
      settings:
        printf: # analyzer name, run `go tool vet help` to see all analyzers
          funcs: # run `go tool vet help printf` to see available settings for `printf` analyzer
            - (github.com/golangci/golangci-lint/pkg/logutils.Log).Infof
            - (github.com/golangci/golangci-lint/pkg/logutils.Log).Warnf
            - (github.com/golangci/golangci-lint/pkg/logutils.Log).Errorf
            - (github.com/golangci/golangci-lint/pkg/logutils.Log).Fatalf
  exclusions:
    generated: lax
    presets:
      - comments
      - common-false-positives
      - legacy
      - std-error-handling
    paths:
      - .*\.pb\.go
      - third_party$
      - builtin$
      - examples$
issues:
  # List of regexps of issue texts to exclude, empty list by default.
  # But independently from this option we use default exclude patterns,
  # it can be disabled by `exclude-use-default: false`. To list all
  # excluded by default patterns execute `golangci-lint run --help`
  uniq-by-line: true
formatters:
  enable:
    - gofmt
    - goimports
  exclusions:
    generated: lax
    paths:
      - .*\.pb\.go
      - third_party$
      - builtin$
      - examples$
